"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3355],{3355:(H,f,c)=>{c.r(f),c.d(f,{ItemDetailsPageModule:()=>Q});var m=c(2881),d=c(9417),a=c(3092),v=c(5207),I=c(467),e=c(1360),k=c(1678),C=c(6354),R=c(8141),x=c(5964),D=c(5558),j=c(7468),F=c(5032),g=c(4934),b=c(1413),_=c(6977),y=c(3136);function M(i,l){if(1&i){const o=e.RV6();e.j41(0,"ion-button",2),e.bIt("click",function(){e.eBV(o);const t=e.XpG(2);return e.Njj(t.delete())}),e.nrm(1,"ion-icon",26),e.k0s()}}function A(i,l){if(1&i){const o=e.RV6();e.j41(0,"ion-datetime",27),e.mxI("ngModelChange",function(t){e.eBV(o);const s=e.XpG(2);return e.DH7(s.item.expDate,t)||(s.item.expDate=t),e.Njj(t)}),e.k0s()}if(2&i){const o=e.XpG(2);e.R50("ngModel",o.item.expDate)}}function T(i,l){if(1&i){const o=e.RV6();e.j41(0,"ion-input",28),e.mxI("ngModelChange",function(t){e.eBV(o);const s=e.XpG(2);return e.DH7(s.item.type,t)||(s.item.type=t),e.Njj(t)}),e.k0s()}if(2&i){const o=e.XpG(2);e.R50("ngModel",o.item.type)}}function E(i,l){if(1&i){const o=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.k0s(),e.j41(4,"ion-buttons",6)(5,"ion-button",2),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.isOpen=!t.isOpen)}),e.nrm(6,"ion-icon",7),e.k0s()(),e.j41(7,"ion-buttons",8),e.DNE(8,M,2,0,"ion-button",9),e.j41(9,"ion-button",10),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.save())}),e.nrm(10,"ion-icon",11),e.k0s()()()(),e.j41(11,"ion-content")(12,"ion-card",12)(13,"ion-card-header")(14,"ion-toolbar")(15,"ion-title",13),e.EFF(16,"Inventory Management"),e.k0s()()(),e.j41(17,"ion-card-content")(18,"ion-grid")(19,"ion-row")(20,"ion-col")(21,"ion-item",14)(22,"ion-input",15),e.mxI("ngModelChange",function(t){e.eBV(o);const s=e.XpG();return e.DH7(s.item.lotNumber,t)||(s.item.lotNumber=t),e.Njj(t)}),e.k0s()()(),e.j41(23,"ion-col")(24,"ion-item",14)(25,"ion-input",16),e.mxI("ngModelChange",function(t){e.eBV(o);const s=e.XpG();return e.DH7(s.item.quantity,t)||(s.item.quantity=t),e.Njj(t)}),e.k0s()()()(),e.j41(26,"ion-row")(27,"ion-col")(28,"ion-item",17)(29,"ion-label"),e.EFF(30,"Expiration date:"),e.k0s(),e.nrm(31,"ion-datetime-button",18),e.k0s(),e.j41(32,"ion-modal",19),e.DNE(33,A,1,1,"ng-template"),e.k0s()(),e.j41(34,"ion-col")(35,"ion-item",14)(36,"ion-input",20),e.mxI("ngModelChange",function(t){e.eBV(o);const s=e.XpG();return e.DH7(s.item.packageAmount,t)||(s.item.packageAmount=t),e.Njj(t)}),e.k0s()()()(),e.j41(37,"ion-radio-group",21),e.mxI("ngModelChange",function(t){e.eBV(o);const s=e.XpG();return e.DH7(s.item.uofm,t)||(s.item.uofm=t),e.Njj(t)}),e.j41(38,"ion-row")(39,"ion-col")(40,"ion-item")(41,"ion-label"),e.EFF(42,"Package"),e.k0s(),e.nrm(43,"ion-radio",22),e.k0s()(),e.j41(44,"ion-col")(45,"ion-item")(46,"ion-label"),e.EFF(47,"Dose"),e.k0s(),e.nrm(48,"ion-radio",23),e.k0s()(),e.j41(49,"ion-col")(50,"ion-item")(51,"ion-label"),e.EFF(52,"Other: "),e.k0s(),e.nrm(53,"ion-radio",24),e.DNE(54,T,1,1,"ion-input",25),e.k0s()()()()()()()()}if(2&i){const o=e.XpG();e.R7$(3),e.JRh(o.title),e.R7$(5),e.Y8G("ngIf",o.isEdit),e.R7$(),e.Y8G("disabled",!(o.item.lotNumber.length>0)),e.R7$(13),e.R50("ngModel",o.item.lotNumber),e.R7$(3),e.R50("ngModel",o.item.quantity),e.R7$(7),e.Y8G("keepContentsMounted",!0),e.R7$(4),e.R50("ngModel",o.item.packageAmount),e.R7$(),e.R50("ngModel",o.item.uofm),e.R7$(17),e.Y8G("ngIf","o"===o.item.uofm)}}function N(i,l){if(1&i){const o=e.RV6();e.j41(0,"ion-fab",1)(1,"ion-fab-button"),e.nrm(2,"ion-icon",29),e.k0s(),e.j41(3,"ion-fab-list",30)(4,"ion-fab-button",2),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return t.isEdit=!1,t.isNew=!t.isNew,e.Njj(t.isOpen=!t.isOpen)}),e.nrm(5,"ion-icon",3),e.k0s(),e.j41(6,"ion-fab-button",2),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.isEdit=!t.isEdit)}),e.nrm(7,"ion-icon",31),e.k0s(),e.j41(8,"ion-fab-button",2),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.exportAlert())}),e.nrm(9,"ion-icon",32),e.k0s()()()}}function S(i,l){1&i&&(e.j41(0,"ion-col")(1,"ion-item",17)(2,"ion-label",38),e.EFF(3,"[EDIT MODE]"),e.k0s()()())}function G(i,l){if(1&i){const o=e.RV6();e.j41(0,"ion-col")(1,"ion-item",41)(2,"ion-buttons",42),e.bIt("click",function(){e.eBV(o);const t=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.edit(t))}),e.j41(3,"ion-button"),e.nrm(4,"ion-icon",43),e.k0s()()()()}}function w(i,l){if(1&i&&(e.j41(0,"ion-list")(1,"ion-item",39)(2,"ion-grid")(3,"ion-row"),e.DNE(4,G,5,0,"ion-col",5),e.j41(5,"ion-col")(6,"ion-item",17)(7,"ion-label")(8,"h2"),e.EFF(9),e.k0s()()()(),e.j41(10,"ion-col")(11,"ion-item",17)(12,"ion-label")(13,"h2"),e.EFF(14),e.k0s()()()(),e.j41(15,"ion-col")(16,"ion-item",17)(17,"ion-label")(18,"h2"),e.EFF(19),e.nI1(20,"date"),e.k0s()()()(),e.j41(21,"ion-col")(22,"ion-item",40)(23,"ion-label")(24,"h2"),e.EFF(25),e.k0s()()()()()()()()),2&i){const o=l.$implicit,n=e.XpG(2);e.R7$(4),e.Y8G("ngIf",!0===n.isEdit),e.R7$(5),e.JRh(o.lotNumber),e.R7$(5),e.JRh(o.uofm),e.R7$(5),e.JRh(e.bMT(20,5,o.expDate)),e.R7$(6),e.JRh(o.quantity)}}function O(i,l){if(1&i&&(e.j41(0,"ion-list")(1,"ion-grid")(2,"ion-row",33),e.DNE(3,S,4,0,"ion-col",5),e.j41(4,"ion-col")(5,"ion-item",17)(6,"ion-label"),e.EFF(7,"Lot Number"),e.k0s()()(),e.j41(8,"ion-col")(9,"ion-item",34)(10,"ion-label"),e.EFF(11,"Unit of Measure"),e.k0s()()(),e.j41(12,"ion-col")(13,"ion-item",35)(14,"ion-label"),e.EFF(15,"Expiration date"),e.k0s()()(),e.j41(16,"ion-col")(17,"ion-item",36)(18,"ion-label"),e.EFF(19,"Quantity"),e.k0s()()()()(),e.DNE(20,w,26,7,"ion-list",37),e.k0s()),2&i){const o=e.XpG();e.R7$(3),e.Y8G("ngIf",o.isEdit),e.R7$(17),e.Y8G("ngForOf",o.lstItems)}}let V=(()=>{var i;class l{constructor(n,t,s,r){this._chageDetectorRef=n,this._inventoryService=t,this._uiService=s,this._alertCtrl=r,this.lstItems=[],this.vaccineId=0,this.item={lotNumber:"",expDate:(new Date).toISOString().split("T")[0],quantity:0,packageAmount:0,packageQuantity:0,uofm:"p"},this._unsubscribeAll=new b.B,this.isOpen=!1,this.isNew=!1,this.isEdit=!1,this.title="Add Inventory"}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}save(){var n,t;if(null===(n=this.item.lotNumber)||void 0===n||!n.trim())return;const s="o"===this.item.uofm;this.item.uofm=s?(null===(t=this.item.type)||void 0===t?void 0:t.trim())||"":{p:"Package",d:"Dose"}[this.item.uofm],s||delete this.item.type,this.item.vaccineid=this.vaccineId,this.item.packageQuantity=this.item.packageAmount,(this.item.id?this._inventoryService.updateVaccineInventory(this.item):this._inventoryService.addVaccineInventory(this.item)).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(p=>{if(this._uiService.toast(`Inventory ${this.item.id?"updated":"added"} successfully`),this.item.id){const u=this.lstItems.findIndex(J=>J.id===this.item.id);u>-1&&(this.lstItems[u]={...this.item})}else{var h;const u={...this.item,id:null!==(h=null==p?void 0:p.id)&&void 0!==h?h:Date.now()};this.lstItems.push(u)}this.isOpen=!1,this.restoreObject(),this._chageDetectorRef.markForCheck()})}edit(n){console.log(n),this.isNew=!1,this.title="Edit inventory";let t="o";"Package"===n.uofm?t="p":"Dose"===n.uofm&&(t="d"),this.item={id:n.id,lotNumber:n.lotNumber,expDate:n.expDate,quantity:n.quantity,packageAmount:n.packageQuantity,uofm:t,..."o"===t&&{type:n.uofm}},this.isOpen=!0,this._chageDetectorRef.markForCheck()}restoreObject(){this.item={lotNumber:"",expDate:(new Date).toISOString().split("T")[0],quantity:0,packageAmount:0,packageQuantity:0,uofm:"p",type:"",vaccineid:0}}delete(){this._inventoryService.removeVaccineInventory(this.item.id||0).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(()=>{if(this._uiService.toast("Item deleted successfully"),this.item.id){const n=this.lstItems.findIndex(t=>t.id===this.item.id);n>-1&&this.lstItems.splice(n,1)}this.isEdit=!1,this.restoreObject(),this.isOpen=!1,this._chageDetectorRef.markForCheck()})}exportAlert(){var n=this;return(0,I.A)(function*(){(yield n._alertCtrl.create({header:"Export inventory",message:"Create file",inputs:[{type:"radio",name:"file",label:"Excel",value:"e",checked:!0},{type:"radio",name:"file",label:"Word",value:"d"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Create",handler:s=>{n._inventoryService.individualExport(n.vaccineId,s).pipe((0,_.Q)(n._unsubscribeAll)).subscribe(r=>{let p="d"!=s?"xlsx":"docx";const h=window.URL.createObjectURL(r),u=document.createElement("a");u.href=h,u.download=`VaccineInventory.${p}`,u.click(),window.URL.revokeObjectURL(h),n._uiService.toast("File exported successfully"),n._chageDetectorRef.markForCheck()})}}]})).present()})()}}return(i=l).\u0275fac=function(n){return new(n||i)(e.rXU(e.gRc),e.rXU(g.c),e.rXU(y.o),e.rXU(a.hG))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-inventory"]],inputs:{lstItems:"lstItems",vaccineId:"vaccineId"},standalone:!1,decls:7,vars:3,consts:[[3,"didDismiss","isOpen"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],[4,"ngIf"],["slot","start"],["name","close","color","primary","slot","icon-only"],["slot","end"],[3,"click",4,"ngIf"],[3,"click","disabled"],["name","checkmark","color","primary","slot","icon-only"],[2,"margin-top","2%"],[2,"text-align","center"],["lines","full"],["labelPlacement","floating","label","Lot Number","type","text",3,"ngModelChange","ngModel"],["labelPlacement","floating","label","Quantity","type","number",3,"ngModelChange","ngModel"],["lines","none"],["datetime","datetime"],[3,"keepContentsMounted"],["labelPlacement","floating","label","Quantity in Package","type","number",3,"ngModelChange","ngModel"],["value","p",3,"ngModelChange","ngModel"],["slot","start","value","p"],["slot","start","value","d"],["slot","start","value","o"],["labelPlacement","fixed","placeholder"," Specify unit",3,"ngModel","ngModelChange",4,"ngIf"],["slot","icon-only","name","trash","color","danger"],["presentation","date","id","datetime","max","2050",3,"ngModelChange","ngModel"],["labelPlacement","fixed","placeholder"," Specify unit",3,"ngModelChange","ngModel"],["name","chevron-up"],["side","top"],["name","pencil"],["name","cloud-upload"],[2,"margin-left","10px"],["lines","none",2,"margin-left","-9%"],["lines","none",2,"margin-left","-9.5%"],["lines","none",2,"margin-left","15.5%"],[4,"ngFor","ngForOf"],["color","primary"],["detail","true"],["lines","none",2,"text-align","-webkit-center"],["lines","none",2,"text-align","center"],["slot","start",3,"click"],["slot","icon-only","name","pencil","color","primary"]],template:function(n,t){1&n&&(e.j41(0,"ion-modal",0),e.bIt("didDismiss",function(){return t.isOpen=!1,t.restoreObject(),t.isNew=!1}),e.DNE(1,E,55,9,"ng-template"),e.k0s(),e.j41(2,"ion-fab",1)(3,"ion-fab-button",2),e.bIt("click",function(){return t.isEdit=!1,t.isNew=!t.isNew,t.isOpen=!t.isOpen}),e.nrm(4,"ion-icon",3),e.k0s()(),e.DNE(5,N,10,0,"ion-fab",4)(6,O,21,2,"ion-list",5)),2&n&&(e.Y8G("isOpen",t.isOpen),e.R7$(5),e.Y8G("ngIf",t.lstItems.length>0),e.R7$(),e.Y8G("ngIf",t.lstItems.length>0))},dependencies:[m.Sq,m.bT,d.BC,d.vS,a.Jm,a.QW,a.b_,a.I9,a.ME,a.hU,a.W9,a.A9,a.K4,a.Q8,a.YW,a.OL,a.lO,a.eU,a.iq,a.$w,a.uz,a.he,a.nf,a.KO,a.f0,a.ln,a.BC,a.ai,a.Sb,a.su,a.Je,a.Gw,m.vh],styles:["ion-col{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}ion-fab[slot=fixed]{position:fixed!important;bottom:16px;right:16px;z-index:999}\n"],encapsulation:2,changeDetection:0}),l})();function P(i,l){if(1&i&&(e.j41(0,"ion-item",1)(1,"ion-label")(2,"h2"),e.EFF(3,"Document Type: "),e.j41(4,"strong"),e.EFF(5),e.k0s()(),e.j41(6,"h2"),e.EFF(7,"Last update: "),e.j41(8,"strong"),e.EFF(9),e.nI1(10,"date"),e.k0s()()()()),2&i){const o=l.$implicit;e.FS9("href",o.url),e.R7$(5),e.SpI(" ","cdc"===o.type?"Vaccine Information Statement":"so"===o.type?"Standing Order":"fda"===o.type?"FDA Reference":"Unknown",""),e.R7$(4),e.JRh(e.bMT(10,3,o.date))}}let X=(()=>{var i;class l{constructor(){this.lstInformation=[]}ngOnInit(){}}return(i=l).\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.VBU({type:i,selectors:[["app-information"]],inputs:{lstInformation:"lstInformation"},standalone:!1,decls:2,vars:1,consts:[["detail","true","target","_blank",3,"href",4,"ngFor","ngForOf"],["detail","true","target","_blank",3,"href"]],template:function(n,t){1&n&&(e.j41(0,"ion-list"),e.DNE(1,P,11,5,"ion-item",0),e.k0s()),2&n&&(e.R7$(),e.Y8G("ngForOf",t.lstInformation))},dependencies:[m.Sq,a.uz,a.he,a.nf,m.vh],encapsulation:2}),l})(),$=(()=>{var i;class l{constructor(n,t,s){this._inventoryService=n,this._chageDetectorRef=t,this._uiService=s,this.vaccineId=0,this.vaxAdmin={adminRoute:"",isLive:!1,requiresTiters:!1,isInterchangeable:!1,requiresReconstitue:!1,lifeTime:""},this._unsubscribeAll=new b.B}ngOnInit(){}save(){this.vaxAdmin.vaccineId=this.vaccineId,(this.vaxAdmin.id?this._inventoryService.updateVaccineAdministration(this.vaxAdmin):this._inventoryService.addVaccineAdministration(this.vaxAdmin)).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(()=>{this._uiService.toast(`Administration ${this.vaxAdmin.id?"updated":"added"} successfully`),this._chageDetectorRef.markForCheck()})}}return(i=l).\u0275fac=function(n){return new(n||i)(e.rXU(g.c),e.rXU(e.gRc),e.rXU(y.o))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-administration"]],inputs:{vaccineId:"vaccineId",vaxAdmin:"vaxAdmin"},standalone:!1,decls:48,vars:8,consts:[["slot","end"],[3,"click","disabled"],["name","checkmark","color","primary","slot","icon-only"],[2,"text-align","center"],[3,"ngModelChange","ngModel"],["slot","start","value","im"],["slot","start","value","sq"],["slot","start","value","po"],["justify","space-between",3,"ngModelChange","ngModel"],[3,"disabled"],["label","Life Time","labelPlacement","fixed","placeholder","Life time after reconstitution",3,"ngModelChange","ngModel"]],template:function(n,t){1&n&&(e.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-toolbar")(3,"ion-buttons",0)(4,"ion-button",1),e.bIt("click",function(){return t.save()}),e.nrm(5,"ion-icon",2),e.k0s()(),e.j41(6,"ion-title",3),e.EFF(7,"Vaccine Administration"),e.k0s()()(),e.j41(8,"ion-card-content")(9,"ion-grid")(10,"ion-radio-group",4),e.mxI("ngModelChange",function(r){return e.DH7(t.vaxAdmin.adminRoute,r)||(t.vaxAdmin.adminRoute=r),r}),e.j41(11,"ion-row")(12,"ion-col")(13,"ion-item")(14,"ion-label"),e.EFF(15,"IM"),e.k0s(),e.nrm(16,"ion-radio",5),e.k0s()(),e.j41(17,"ion-col")(18,"ion-item")(19,"ion-label"),e.EFF(20,"SQ"),e.k0s(),e.nrm(21,"ion-radio",6),e.k0s()(),e.j41(22,"ion-col")(23,"ion-item")(24,"ion-label"),e.EFF(25,"PO"),e.k0s(),e.nrm(26,"ion-radio",7),e.k0s()()()(),e.j41(27,"ion-row")(28,"ion-col")(29,"ion-item")(30,"ion-checkbox",8),e.mxI("ngModelChange",function(r){return e.DH7(t.vaxAdmin.isLive,r)||(t.vaxAdmin.isLive=r),r}),e.EFF(31,"Live Vaccine"),e.k0s()()(),e.j41(32,"ion-col")(33,"ion-item")(34,"ion-checkbox",8),e.mxI("ngModelChange",function(r){return e.DH7(t.vaxAdmin.requiresTiters,r)||(t.vaxAdmin.requiresTiters=r),r}),e.EFF(35,"Requires Titers"),e.k0s()()(),e.j41(36,"ion-col")(37,"ion-item")(38,"ion-checkbox",8),e.mxI("ngModelChange",function(r){return e.DH7(t.vaxAdmin.isInterchangeable,r)||(t.vaxAdmin.isInterchangeable=r),r}),e.EFF(39,"Is Interchangeable"),e.k0s()()()(),e.j41(40,"ion-row")(41,"ion-col")(42,"ion-item")(43,"ion-checkbox",8),e.mxI("ngModelChange",function(r){return e.DH7(t.vaxAdmin.requiresReconstitue,r)||(t.vaxAdmin.requiresReconstitue=r),r}),e.EFF(44,"Requires Reconstitution"),e.k0s()()(),e.j41(45,"ion-col")(46,"ion-item",9)(47,"ion-input",10),e.mxI("ngModelChange",function(r){return e.DH7(t.vaxAdmin.lifeTime,r)||(t.vaxAdmin.lifeTime=r),r}),e.k0s()()()()()()()),2&n&&(e.R7$(4),e.Y8G("disabled",!t.vaxAdmin.adminRoute),e.R7$(6),e.R50("ngModel",t.vaxAdmin.adminRoute),e.R7$(20),e.R50("ngModel",t.vaxAdmin.isLive),e.R7$(4),e.R50("ngModel",t.vaxAdmin.requiresTiters),e.R7$(4),e.R50("ngModel",t.vaxAdmin.isInterchangeable),e.R7$(5),e.R50("ngModel",t.vaxAdmin.requiresReconstitue),e.R7$(3),e.Y8G("disabled",!t.vaxAdmin.requiresReconstitue),e.R7$(),e.R50("ngModel",t.vaxAdmin.lifeTime))},dependencies:[d.BC,d.vS,a.Jm,a.QW,a.b_,a.I9,a.ME,a.eY,a.hU,a.lO,a.iq,a.$w,a.uz,a.he,a.KO,a.f0,a.ln,a.BC,a.ai,a.hB,a.Je,a.Gw],encapsulation:2}),l})();function B(i,l){if(1&i&&e.nrm(0,"app-inventory",12),2&i){const o=e.XpG();e.Y8G("lstItems",o.vaccineInventory)("vaccineId",o.vaccineId)}}function U(i,l){if(1&i&&e.nrm(0,"app-administration",13),2&i){const o=e.XpG();e.Y8G("vaxAdmin",o.vaccineAdmin)("vaccineId",o.vaccineId)}}function Y(i,l){if(1&i&&e.nrm(0,"app-information",14),2&i){const o=e.XpG();e.Y8G("lstInformation",o.vaccineInfo)}}const q=[{path:"",component:(()=>{var i;class l{constructor(n,t,s,r,p){this._navCtrl=n,this._chageDetectorRef=t,this._inventoryService=s,this._modalCtrl=r,this._alertCtrl=p,this.activateRoute=(0,e.WQX)(k.nX),this.currentSegment="inventory",this.vaccineId=0,this.vaccineInfo=[],this.vaccineInventory=[],this.vaccineAdmin={adminRoute:"im",isLive:!1,requiresTiters:!1,isInterchangeable:!1,requiresReconstitue:!1,lifeTime:""},this.isNew=!0,this.title="",this.quantity=0,this.lotNumber="",this.uofm="p",this.type="",this.update=!1,this.expDate=(new Date).toISOString(),this.packageAmount=0}ngOnInit(){if(this.vaccineId=+this.activateRoute.snapshot.paramMap.get("id"),!this.vaccineId)return this._navCtrl.back();this._inventoryService.currentClinicInventory$.pipe((0,C.T)(n=>n.find(t=>t.id===this.vaccineId)),(0,R.M)(n=>{n||this._navCtrl.back(),this.currentVaccine=n,this.title=`${null==n?void 0:n.vaccineName} (${null==n?void 0:n.tradeName})`}),(0,x.p)(Boolean),(0,D.n)(()=>(0,j.p)({info:this._inventoryService.getVaccineInformation(this.vaccineId),inv:this._inventoryService.getVaccineInventory(this.vaccineId),admin:this._inventoryService.getVaccineAdministration(this.vaccineId)}))).subscribe(({info:n,inv:t,admin:s})=>{this.vaccineInfo=n,this.vaccineInventory=t,s&&(this.vaccineAdmin=s),this._chageDetectorRef.markForCheck()})}goBack(){this._navCtrl.back()}addVaccine(){let n=this.currentVaccine;n.quantity=this.quantity,n.lotNumber=this.lotNumber,n.expDate=this.expDate,n.packageAmount=this.packageAmount,n.uofm="p"===this.uofm?"Package":"d"===this.uofm?"Dose":this.type}delete(n){var t=this;return(0,I.A)(function*(){(yield t._alertCtrl.create({header:"Remove Lot number",message:`Remove ${n.lotNumber} Lot Number from ${n.tradeName}`,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Remove",handler:()=>{t._inventoryService.removeVaccineInventory(n.id).subscribe(r=>{r&&t._chageDetectorRef.markForCheck()})}}]})).present()})()}modifyInventory(n){this.isNew=!1,this.currentInventory=n,this.lotNumber=n.lotNumber,this.quantity=n.quantity,this.expDate=n.expDate,this.packageAmount=n.packageQuantity,this.uofm="Package"===n.uofm?"p":"Dose"===n.uofm?"d":"o","Package"!==n.uofm&&"Dose"!==n.uofm&&(this.type=n.uofm)}deleteVaccineInventory(n){this._inventoryService.removeVaccineInventory(n).subscribe(t=>{this._chageDetectorRef.markForCheck()})}updateInventory(){this.currentInventory.quantity=this.quantity,this.currentInventory.lotNumber=this.lotNumber,this.currentInventory.quantity=this.quantity,this.currentInventory.expDate=this.expDate,this.currentInventory.packageAmount=this.packageAmount,this.currentInventory.uofm="p"===this.uofm?"Package":"d"===this.uofm?"Dose":this.type,this._inventoryService.updateVaccineInventory(this.currentInventory).subscribe(n=>{this.lotNumber="",this.quantity=0,this.packageAmount=0,this.uofm="",this.expDate=(new Date).toISOString(),this.isNew=!this.isNew,this.currentInventory={},this._chageDetectorRef.markForCheck()})}}return(i=l).\u0275fac=function(n){return new(n||i)(e.rXU(F.q9),e.rXU(e.gRc),e.rXU(g.c),e.rXU(a.W3),e.rXU(a.hG))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-itemDetails"]],standalone:!1,decls:20,vars:7,consts:[[3,"translucent"],["slot","start"],[3,"click"],["name","arrow-back","color","primary","slot","icon-only"],[3,"ngModelChange","ngModel"],["value","inventory"],["value","administration"],["value","information"],[3,"ngSwitch"],[3,"lstItems","vaccineId",4,"ngSwitchCase"],[3,"vaxAdmin","vaccineId",4,"ngSwitchCase"],[3,"lstInformation",4,"ngSwitchCase"],[3,"lstItems","vaccineId"],[3,"vaxAdmin","vaccineId"],[3,"lstInformation"]],template:function(n,t){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.k0s(),e.j41(4,"ion-buttons",1)(5,"ion-button",2),e.bIt("click",function(){return t.goBack()}),e.nrm(6,"ion-icon",3),e.k0s()()(),e.j41(7,"ion-toolbar")(8,"ion-segment",4),e.mxI("ngModelChange",function(r){return e.DH7(t.currentSegment,r)||(t.currentSegment=r),r}),e.j41(9,"ion-segment-button",5),e.EFF(10,"Inventory"),e.k0s(),e.j41(11,"ion-segment-button",6),e.EFF(12,"Administration"),e.k0s(),e.j41(13,"ion-segment-button",7),e.EFF(14,"Information"),e.k0s()()()(),e.j41(15,"ion-content"),e.qex(16,8),e.DNE(17,B,1,2,"app-inventory",9)(18,U,1,2,"app-administration",10)(19,Y,1,1,"app-information",11),e.bVm(),e.k0s()),2&n&&(e.Y8G("translucent",!0),e.R7$(3),e.JRh(t.title),e.R7$(5),e.R50("ngModel",t.currentSegment),e.R7$(8),e.Y8G("ngSwitch",t.currentSegment),e.R7$(),e.Y8G("ngSwitchCase","inventory"),e.R7$(),e.Y8G("ngSwitchCase","administration"),e.R7$(),e.Y8G("ngSwitchCase","information"))},dependencies:[m.ux,m.e1,d.BC,d.vS,a.Jm,a.QW,a.W9,a.eU,a.iq,a.Gp,a.eP,a.BC,a.ai,a.Je,V,X,$],encapsulation:2,changeDetection:0}),l})()}];let L=(()=>{var i;class l{}return(i=l).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[v.iI.forChild(q),v.iI]}),l})(),Q=(()=>{var i;class l{}return(i=l).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[m.MD,d.YN,a.bv,L]}),l})()}}]);