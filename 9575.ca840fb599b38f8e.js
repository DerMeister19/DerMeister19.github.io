"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9575],{9575:(ne,b,l)=>{l.r(b),l.d(b,{OrderPageModule:()=>ee});var m=l(2881),p=l(9417),a=l(3092),g=l(5207),f=l(1413),e=l(1360),C=l(5032),v=l(4221),k=l(7643);let h=(()=>{var i;class s{constructor(n){this._http=n,this.history=[],this.order=[],this.ptData={}}administer(){let n={history:this.history,order:this.order,ptData:this.ptData};return this._http.post(v.w.getApiUrl()+"/api/order/administer",{data:n})}getHistory(){return this.history}addToHistory(n){this.history.push(n)}clearHistory(){this.history=[]}getOrder(){return this.order}addToOrder(n){console.log(n),this.order.push(n)}clearOrder(){this.order=[]}setPtData(n){this.ptData=n}getPtData(){return this.ptData}}return(i=s).\u0275fac=function(n){return new(n||i)(e.KVO(k.Qq))},i.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();var u=l(467),R=l(4208);function j(i,s){if(1&i){const o=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",5)(3,"ion-button",1),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.cancel())}),e.nrm(4,"ion-icon",6),e.k0s()(),e.j41(5,"ion-buttons",7)(6,"ion-button",1),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.addVaccine())}),e.nrm(7,"ion-icon",8),e.k0s()(),e.j41(8,"ion-title"),e.EFF(9,"Add Vaccination History"),e.k0s()()(),e.j41(10,"ion-content")(11,"ion-card")(12,"ion-card-content")(13,"ion-grid")(14,"ion-row")(15,"ion-col")(16,"ion-item",9)(17,"ion-label"),e.EFF(18," Vaccine Name: "),e.j41(19,"strong"),e.EFF(20),e.k0s()()()()(),e.j41(21,"ion-row")(22,"ion-col")(23,"ion-item")(24,"ion-input",10),e.mxI("ngModelChange",function(t){e.eBV(o);const r=e.XpG();return e.DH7(r.vaccine.totalDoses,t)||(r.vaccine.totalDoses=t),e.Njj(t)}),e.k0s()()()()()()()()}if(2&i){const o=e.XpG();e.R7$(20),e.SpI(" ",o.vaccine.vaccineCategory,""),e.R7$(4),e.R50("ngModel",o.vaccine.totalDoses)}}function F(i,s){if(1&i){const o=e.RV6();e.j41(0,"ion-item-sliding")(1,"ion-item",11),e.bIt("click",function(){const t=e.eBV(o).$implicit,r=e.XpG().$implicit,c=e.XpG();return e.Njj(c.setDate(t,c.lstVaccineHistory.indexOf(r)))}),e.j41(2,"ion-label")(3,"h3"),e.EFF(4),e.j41(5,"ion-text",12),e.EFF(6),e.nI1(7,"date"),e.k0s()()()(),e.j41(8,"ion-item-options",13)(9,"ion-item-option",14),e.bIt("click",function(){const t=e.eBV(o).index,r=e.XpG().$implicit,c=e.XpG();return e.Njj(c.removeDose(c.lstVaccineHistory.indexOf(r),t))}),e.nrm(10,"ion-icon",15),e.k0s()()()}if(2&i){const o=s.$implicit;e.R7$(4),e.SpI("Dose ",o.doseNumber," - "),e.R7$(2),e.SpI(" ",o.administrationDate?e.i5U(7,2,o.administrationDate,"longDate"):"No date selected"," ")}}function O(i,s){if(1&i&&(e.j41(0,"ion-list")(1,"ion-item-group")(2,"ion-item-divider")(3,"ion-label"),e.EFF(4),e.k0s()()(),e.DNE(5,F,11,5,"ion-item-sliding",4),e.k0s()),2&i){const o=s.$implicit;e.R7$(4),e.JRh(o.vaccineCategory),e.R7$(),e.Y8G("ngForOf",o.vaccines)}}let S=(()=>{var i;class s{constructor(n,t,r,c){this._chageDetectorRef=n,this._alertCtrl=t,this._modalCtrl=r,this.orderService=c,this.isModalOpen=!1,this.lstVaccineHistory=[],this._unsubscribeAll=new f.B}ngOnInit(){this.lstVaccineHistory=this.orderService.getHistory()}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}selectVaccine(){var n=this;return(0,u.A)(function*(){const t=yield n._modalCtrl.create({component:R.J}),{data:r}=yield t.present().then(()=>t.onWillDismiss());n.historyScreening(r),n._chageDetectorRef.markForCheck()})()}historyScreening(n){n&&(this.isModalOpen=!0,this.vaccine={vaccineCategory:`${n.vaccineName} (${n.tradeName})`,totalDoses:0,vaccines:[]},this._chageDetectorRef.markForCheck())}addVaccine(){this.isModalOpen=!1;const n=this.lstVaccineHistory.find(t=>t.vaccineCategory===this.vaccine.vaccineCategory);if(n){const t=n.vaccines.length;for(let r=0;r<this.vaccine.totalDoses;r++)n.vaccines.push({vaccineId:0,doseNumber:t+r+1,vaccineName:"",administrationDate:""});n.totalDoses=n.vaccines.length}else{const t={vaccineCategory:this.vaccine.vaccineCategory,totalDoses:this.vaccine.totalDoses,vaccines:Array.from({length:this.vaccine.totalDoses},(r,c)=>({vaccineId:0,doseNumber:c+1,vaccineName:"",administrationDate:""}))};this.orderService.addToHistory(t)}this.lstVaccineHistory=this.orderService.getHistory(),this.cancel()}setDate(n,t){var r=this;return(0,u.A)(function*(){(yield r._alertCtrl.create({header:"Set Adminstration Date",inputs:[{type:"date",label:"Date",name:"adminDate"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Save",handler:d=>{const _=r.lstVaccineHistory[t];if(_){const y=_.vaccines.find(te=>te.doseNumber===n.doseNumber);y&&(y.administrationDate=d.adminDate,r._chageDetectorRef.markForCheck())}}}]})).present()})()}cancel(){this.isModalOpen=!1,this.vaccine={vaccineCategory:"",totalDoses:0,vaccines:[]}}removeDose(n,t){const r=this.lstVaccineHistory[n];r&&(r.vaccines.splice(t,1),r.vaccines.forEach((c,d)=>c.doseNumber=d+1),r.totalDoses=r.vaccines.length,0===r.vaccines.length&&this.lstVaccineHistory.splice(n,1),this._chageDetectorRef.markForCheck())}}return(i=s).\u0275fac=function(n){return new(n||i)(e.rXU(e.gRc),e.rXU(a.hG),e.rXU(a.W3),e.rXU(h))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-history"]],standalone:!1,decls:6,vars:3,consts:[["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],[3,"willDismiss","isOpen","canDismiss"],[4,"ngFor","ngForOf"],["slot","start"],["name","close","color","primary","slot","icon-only"],["slot","end"],["name","add","color","primary","slot","icon-only"],["disabled","true"],["label","Doses Given","labelPlacement","floating","type","number",3,"ngModelChange","ngModel"],["lines","full","detail","true","button","true",3,"click"],["color","medium"],["side","start"],["color","danger",3,"click"],["slot","icon-only","name","trash"]],template:function(n,t){1&n&&(e.j41(0,"ion-fab",0)(1,"ion-fab-button",1),e.bIt("click",function(){return t.selectVaccine()}),e.nrm(2,"ion-icon",2),e.k0s()(),e.j41(3,"ion-modal",3),e.bIt("willDismiss",function(){return t.isModalOpen=!1,t.cancel()}),e.DNE(4,j,25,2,"ng-template"),e.k0s(),e.DNE(5,O,6,2,"ion-list",4)),2&n&&(e.R7$(3),e.Y8G("isOpen",t.isModalOpen)("canDismiss",!t.isModalOpen),e.R7$(2),e.Y8G("ngForOf",t.lstVaccineHistory))},dependencies:[m.Sq,p.BC,p.vS,a.Jm,a.QW,a.b_,a.I9,a.hU,a.W9,a.Q8,a.YW,a.lO,a.eU,a.iq,a.$w,a.uz,a.Dg,a.jh,a.LU,a.CE,a.A7,a.he,a.nf,a.ln,a.IO,a.BC,a.ai,a.Sb,a.su,m.vh],encapsulation:2,changeDetection:0}),s})();var I=l(1870),D=l(6977),G=l(7483);function V(i,s){1&i&&(e.j41(0,"ion-title"),e.EFF(1,"Vaccination Schedules"),e.k0s())}function N(i,s){if(1&i){const o=e.RV6();e.j41(0,"ion-searchbar",10),e.mxI("ngModelChange",function(t){e.eBV(o);const r=e.XpG();return e.DH7(r.searchQuery,t)||(r.searchQuery=t),e.Njj(t)}),e.bIt("ionInput",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.search())})("ionClear",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.searchQuery="")})("ionCancel",function(){e.eBV(o);const t=e.XpG();return t.openSearch=!1,e.Njj(t.searchQuery="")}),e.k0s()}if(2&i){const o=e.XpG();e.R50("ngModel",o.searchQuery)}}function M(i,s){if(1&i){const o=e.RV6();e.j41(0,"ion-button",6),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.openSearch=!0)}),e.nrm(1,"ion-icon",11),e.k0s()}}function x(i,s){if(1&i){const o=e.RV6();e.j41(0,"ion-item",12),e.bIt("click",function(){const t=e.eBV(o).$implicit,r=e.XpG();return e.Njj(r.select(t))}),e.j41(1,"ion-label")(2,"h2"),e.EFF(3,"Schedule Name: "),e.j41(4,"strong"),e.EFF(5),e.k0s()()()()}if(2&i){const o=s.$implicit;e.R7$(5),e.JRh(o.name)}}let T=(()=>{var i;class s{constructor(n,t,r){this._chageDetectorRef=n,this._schedulesService=t,this._modalCtrl=r,this.searchQuery="",this.lstSchedules=[],this.filteredSchedules=[],this.openSearch=!1,this._unsubscribeAll=new f.B}ngOnInit(){this._schedulesService.getSchedules().pipe((0,D.Q)(this._unsubscribeAll)).subscribe(n=>{this.filteredSchedules=n.filter(t=>"recommended"===t.section),this.lstSchedules=this.filteredSchedules,this._chageDetectorRef.markForCheck()})}select(n){this._schedulesService.getRecommendedSchedule(n.id).pipe((0,D.Q)(this._unsubscribeAll)).subscribe(t=>{this._chageDetectorRef.markForCheck(),this._modalCtrl.dismiss(t)})}close(){this._modalCtrl.dismiss()}search(){const n=this.searchQuery.toLowerCase().trim();this.filteredSchedules=n?this.lstSchedules.filter(t=>t.name.toLowerCase().includes(n)):this.lstSchedules,this._chageDetectorRef.markForCheck()}}return(i=s).\u0275fac=function(n){return new(n||i)(e.rXU(e.gRc),e.rXU(G.l),e.rXU(a.W3))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-recommended"]],standalone:!1,decls:12,vars:6,consts:[[3,"translucent"],[4,"ngIf"],["show-cancel-button","always","show-clear-button","focus",3,"ngModel","ngModelChange","ionInput","ionClear","ionCancel",4,"ngIf"],["slot","start"],[3,"click",4,"ngIf"],["slot","end"],[3,"click"],["name","close","color","primary","slot","icon-only"],[3,"fullscreen"],["button","true",3,"click",4,"ngFor","ngForOf"],["show-cancel-button","always","show-clear-button","focus",3,"ngModelChange","ionInput","ionClear","ionCancel","ngModel"],["name","search","slot","icon-only","color","primary"],["button","true",3,"click"]],template:function(n,t){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar"),e.DNE(2,V,2,0,"ion-title",1)(3,N,1,1,"ion-searchbar",2),e.j41(4,"ion-buttons",3),e.DNE(5,M,2,0,"ion-button",4),e.k0s(),e.j41(6,"ion-buttons",5)(7,"ion-button",6),e.bIt("click",function(){return t.close()}),e.nrm(8,"ion-icon",7),e.k0s()()()(),e.j41(9,"ion-content",8)(10,"ion-list"),e.DNE(11,x,6,1,"ion-item",9),e.k0s()()),2&n&&(e.Y8G("translucent",!0),e.R7$(2),e.Y8G("ngIf",!t.openSearch),e.R7$(),e.Y8G("ngIf",t.openSearch),e.R7$(2),e.Y8G("ngIf",!t.openSearch),e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(2),e.Y8G("ngForOf",t.filteredSchedules))},dependencies:[m.Sq,m.bT,p.BC,p.vS,a.Jm,a.QW,a.W9,a.eU,a.iq,a.uz,a.he,a.nf,a.S1,a.BC,a.ai,a.Gw],encapsulation:2,changeDetection:0}),s})();var P=l(3136);function $(i,s){if(1&i){const o=e.RV6();e.j41(0,"ion-fab",2)(1,"ion-fab-button",3),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.vaccineOrder())}),e.nrm(2,"ion-icon",4),e.k0s()()}}function X(i,s){if(1&i){const o=e.RV6();e.j41(0,"ion-fab",2)(1,"ion-fab-button"),e.nrm(2,"ion-icon",5),e.k0s(),e.j41(3,"ion-fab-list",6)(4,"ion-fab-button",3),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.vaccineOrder())}),e.nrm(5,"ion-icon",4),e.k0s(),e.j41(6,"ion-fab-button",3),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.administer())}),e.nrm(7,"ion-icon",7),e.k0s()()()}}function H(i,s){if(1&i){const o=e.RV6();e.j41(0,"ion-item-sliding")(1,"ion-item",8),e.bIt("click",function(){const t=e.eBV(o).$implicit,r=e.XpG().$implicit,c=e.XpG();return e.Njj(c.updateDoseNumber(r,t))}),e.j41(2,"ion-label")(3,"h2"),e.EFF(4),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.j41(7,"ion-text",9),e.EFF(8),e.nI1(9,"date"),e.k0s()()()(),e.j41(10,"ion-item-options",10)(11,"ion-item-option",11),e.bIt("click",function(){const t=e.eBV(o).index,r=e.XpG(2);return e.Njj(r.lstVaccineOrder.splice(t,1))}),e.nrm(12,"ion-icon",12),e.k0s()()()}if(2&i){const o=s.$implicit,n=e.XpG().$implicit;e.R7$(4),e.JRh(n.vaccineCategory),e.R7$(2),e.SpI("Dose ",o.doseNumber," - "),e.R7$(2),e.SpI(" ",o.administrationDate?e.i5U(9,3,o.administrationDate,"longDate"):"No date selected"," ")}}function E(i,s){if(1&i&&(e.j41(0,"ion-list"),e.DNE(1,H,13,6,"ion-item-sliding",1),e.k0s()),2&i){const o=s.$implicit;e.R7$(),e.Y8G("ngForOf",o.vaccines)}}let A=(()=>{var i;class s{constructor(n,t,r,c,d,_){this._vaccineService=n,this._chageDetectorRef=t,this._alertCtrl=r,this._orderSerivce=c,this._modalCtrl=d,this._uiService=_,this.lstVaccineHistory=[],this.lstVaccineOrder=[]}ngOnInit(){this.getHistory(),this.lstVaccineOrder=this._orderSerivce.getOrder()}vaccineOrder(){var n=this;return(0,u.A)(function*(){(yield n._alertCtrl.create({header:"Select option",inputs:[{label:"Vaccine",name:"v",value:"v",type:"radio"},{label:"Schedule",name:"s",value:"s",type:"radio"}],buttons:[{text:"Cancel",cssClass:"secondary",role:"cancel"},{text:"Select",handler:r=>{"s"===r?n.selectSchedule():n.selectVaccine()}}]})).present()})()}selectVaccine(){var n=this;return(0,u.A)(function*(){const t=yield n._modalCtrl.create({component:I.o});t.present();const{data:r}=yield t.onDidDismiss();r.vaccineId=r.id,n.setDoseNumber(r)})()}setDoseNumber(n){var t=this;return(0,u.A)(function*(){console.log(n),(yield t._alertCtrl.create({header:"Dose number",subHeader:`Dose number for vaccine ${n.vaccineName}`,backdropDismiss:!1,inputs:[{type:"number",value:0,label:"Dose number",name:"d"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Add",handler:c=>{n.doseNumber=c.d,console.log(t.ptData),t._orderSerivce.addToOrder({vaccineCategory:`${n.vaccineName} (${n.tradeName})`,totalDoses:c.d,vaccines:[{doseNumber:c.d,vaccineId:n.vaccineId,vaccineName:n.vaccineName,administrationDate:(new Date).toISOString()}]}),t.lstVaccineOrder=t._orderSerivce.getOrder(),t._chageDetectorRef.markForCheck()}}]})).present()})()}selectSchedule(){var n=this;return(0,u.A)(function*(){const t=yield n._modalCtrl.create({component:T});t.present();const{data:r}=yield t.onDidDismiss();r.forEach(c=>{c.vaccineId=c.vaccine_id,n.setDoseNumber(c)}),n._chageDetectorRef.markForCheck()})()}getHistory(){this.lstVaccineHistory=this._vaccineService.getHistory(),this._chageDetectorRef.markForCheck()}administer(){this._orderSerivce.setPtData(this.ptData),this._orderSerivce.administer().subscribe(n=>{this._uiService.toast(n.message,n.administer?"success":"danger"),this._orderSerivce.clearHistory(),this._orderSerivce.clearOrder(),this._chageDetectorRef.markForCheck()})}updateDoseNumber(n,t){this._alertCtrl.create({header:"Update Dose Number",subHeader:`Update dose number for ${n.vaccineCategory}`,backdropDismiss:!1,inputs:[{type:"number",value:t.doseNumber,label:"Dose number",name:"d"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Update",handler:r=>{t.doseNumber=r.d,this._chageDetectorRef.markForCheck()}}]}).then(r=>r.present())}}return(i=s).\u0275fac=function(n){return new(n||i)(e.rXU(h),e.rXU(e.gRc),e.rXU(a.hG),e.rXU(h),e.rXU(a.W3),e.rXU(P.o))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-administration"]],inputs:{ptData:"ptData"},standalone:!1,decls:3,vars:3,consts:[["vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],["name","chevron-up"],["side","top"],["name","checkmark"],["lines","full","detail","true","button","true",3,"click"],["color","medium"],["side","start"],["color","danger",3,"click"],["slot","icon-only","name","trash"]],template:function(n,t){1&n&&e.DNE(0,$,3,0,"ion-fab",0)(1,X,8,0,"ion-fab",0)(2,E,2,1,"ion-list",1),2&n&&(e.Y8G("ngIf",t.lstVaccineOrder.length<=0),e.R7$(),e.Y8G("ngIf",t.lstVaccineOrder.length>0),e.R7$(),e.Y8G("ngForOf",t.lstVaccineOrder))},dependencies:[m.Sq,m.bT,a.Q8,a.YW,a.OL,a.iq,a.uz,a.LU,a.CE,a.A7,a.he,a.nf,a.IO,m.vh],encapsulation:2,changeDetection:0}),s})(),B=(()=>{var i;class s{transform(n){if(!n)return"";const t=new Date(n),r=new Date;let c=r.getFullYear()-t.getFullYear(),d=r.getMonth()-t.getMonth(),_=r.getDate()-t.getDate();return _<0&&(d--,_+=new Date(r.getFullYear(),r.getMonth(),0).getDate()),d<0&&(c--,d+=12),`${c}y ${d}m ${_}d`}}return(i=s).\u0275fac=function(n){return new(n||i)},i.\u0275pipe=e.EJ8({name:"age",type:i,pure:!0,standalone:!1}),s})();function Y(i,s){if(1&i){const o=e.RV6();e.j41(0,"ion-buttons",13)(1,"ion-button",14),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.openPatientModal())}),e.nrm(2,"ion-icon",15),e.k0s()()}}function w(i,s){1&i&&(e.j41(0,"ion-title"),e.EFF(1,"Order"),e.k0s())}function U(i,s){if(1&i&&(e.j41(0,"ion-col")(1,"ion-label"),e.EFF(2," Pregnancy: "),e.j41(3,"ion-text",17)(4,"strong"),e.EFF(5),e.k0s()()()()),2&i){const o=e.XpG(2);e.R7$(3),e.Y8G("color",o.patientData.isPregnancy?"danger":"success"),e.R7$(2),e.JRh(o.patientData.isPregnancy?"Yes":"No")}}function W(i,s){if(1&i&&(e.j41(0,"ion-col")(1,"ion-label"),e.EFF(2," Weeks of pregnancy: "),e.j41(3,"strong"),e.EFF(4),e.k0s()()()),2&i){const o=e.XpG(2);e.R7$(4),e.JRh(o.patientData.prengancyDuration?o.patientData.prengancyDuration:"N/A")}}function J(i,s){if(1&i&&(e.j41(0,"ion-row",16)(1,"ion-col")(2,"ion-title"),e.EFF(3,"Order"),e.k0s()(),e.j41(4,"ion-col")(5,"ion-label"),e.EFF(6," Sex: "),e.j41(7,"strong"),e.EFF(8),e.k0s()()(),e.j41(9,"ion-col")(10,"ion-label"),e.EFF(11," DOB: "),e.j41(12,"strong"),e.EFF(13),e.k0s(),e.EFF(14),e.nI1(15,"age"),e.k0s()(),e.j41(16,"ion-col")(17,"ion-label"),e.EFF(18," Immunocompromised: "),e.j41(19,"ion-text",17)(20,"strong"),e.EFF(21),e.k0s()()()(),e.DNE(22,U,6,2,"ion-col",3)(23,W,5,1,"ion-col",3),e.k0s()),2&i){const o=e.XpG();e.R7$(8),e.JRh("m"===o.patientData.gender?"Male":"Female"),e.R7$(5),e.JRh(o.patientData.dob),e.R7$(),e.SpI(" (",o.patientData.dob?e.bMT(15,7,o.patientData.dob):"",") "),e.R7$(5),e.Y8G("color",o.patientData.isImmun?"danger":"success"),e.R7$(2),e.JRh(o.patientData.isImmun?"Yes":"No"),e.R7$(),e.Y8G("ngIf","f"===o.patientData.gender),e.R7$(),e.Y8G("ngIf","f"===o.patientData.gender&&o.patientData.isPregnancy)}}function Q(i,s){if(1&i){const o=e.RV6();e.j41(0,"ion-row")(1,"ion-col")(2,"ion-item",25)(3,"ion-checkbox",5),e.mxI("ngModelChange",function(t){e.eBV(o);const r=e.XpG(2);return e.DH7(r.patientData.isPregnancy,t)||(r.patientData.isPregnancy=t),e.Njj(t)}),e.EFF(4,"Is patient pregnant?"),e.k0s()()(),e.j41(5,"ion-col")(6,"ion-item",28)(7,"ion-input",29),e.mxI("ngModelChange",function(t){e.eBV(o);const r=e.XpG(2);return e.DH7(r.patientData.prengancyDuration,t)||(r.patientData.prengancyDuration=t),e.Njj(t)}),e.k0s()()()()}if(2&i){const o=e.XpG(2);e.R7$(3),e.R50("ngModel",o.patientData.isPregnancy),e.R7$(3),e.Y8G("disabled",!o.patientData.isPregnancy),e.R7$(),e.R50("ngModel",o.patientData.prengancyDuration)}}function L(i,s){if(1&i){const o=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",13)(3,"ion-button",18),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.isModalOpen=!1)}),e.nrm(4,"ion-icon",19),e.k0s()(),e.j41(5,"ion-buttons",20)(6,"ion-button",21),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return t.save(),e.Njj(t.isModalOpen=!1)}),e.nrm(7,"ion-icon",22),e.k0s()(),e.j41(8,"ion-title"),e.EFF(9,"Patient Information"),e.k0s()()(),e.j41(10,"ion-content")(11,"ion-card")(12,"ion-card-content")(13,"ion-grid")(14,"ion-row")(15,"ion-col")(16,"ion-item",23)(17,"ion-input",24),e.mxI("ngModelChange",function(t){e.eBV(o);const r=e.XpG();return e.DH7(r.patientData.dob,t)||(r.patientData.dob=t),e.Njj(t)}),e.k0s()()(),e.j41(18,"ion-col")(19,"ion-item")(20,"ion-checkbox",5),e.mxI("ngModelChange",function(t){e.eBV(o);const r=e.XpG();return e.DH7(r.patientData.isImmun,t)||(r.patientData.isImmun=t),e.Njj(t)}),e.EFF(21,"Immunocompromised?"),e.k0s()()()(),e.j41(22,"ion-radio-group",5),e.mxI("ngModelChange",function(t){e.eBV(o);const r=e.XpG();return e.DH7(r.patientData.gender,t)||(r.patientData.gender=t),e.Njj(t)}),e.j41(23,"ion-row")(24,"ion-col")(25,"ion-item",25)(26,"ion-radio",26),e.EFF(27,"Male"),e.k0s()()(),e.j41(28,"ion-col")(29,"ion-item",25)(30,"ion-radio",27),e.EFF(31,"Female"),e.k0s()()()()(),e.DNE(32,Q,8,3,"ion-row",3),e.k0s()()()()}if(2&i){const o=e.XpG();e.R7$(6),e.Y8G("disabled",""===o.patientData.dob),e.R7$(11),e.R50("ngModel",o.patientData.dob),e.R7$(3),e.R50("ngModel",o.patientData.isImmun),e.R7$(2),e.R50("ngModel",o.patientData.gender),e.R7$(10),e.Y8G("ngIf","m"!=o.patientData.gender)}}function z(i,s){1&i&&e.nrm(0,"app-history")}function K(i,s){if(1&i&&e.nrm(0,"app-administration",30),2&i){const o=e.XpG();e.Y8G("ptData",o.patientData)}}const Z=[{path:"",component:(()=>{var i;class s{constructor(n,t,r,c,d){this._modalCtrl=n,this._alertCtrl=t,this._navCtrl=r,this._chageDetectorRef=c,this.orderService=d,this.selectedSegment="order",this._unsubscribeAll=new f.B,this.isModalOpen=!1}openPatientModal(){this.isModalOpen=!0,this._chageDetectorRef.markForCheck()}ionViewWillEnter(){this.patientData||(this.patientData={dob:"",gender:"m",isImmun:!1},this.isModalOpen=!0,this._chageDetectorRef.markForCheck())}ionViewWillLeave(){this.patientData=void 0,this.orderService.clearHistory(),this.orderService.clearOrder(),this._unsubscribeAll.next(),this._unsubscribeAll.complete()}save(){this.isModalOpen=!1,this._chageDetectorRef.markForCheck()}cancel(){this._navCtrl.back()}}return(i=s).\u0275fac=function(n){return new(n||i)(e.rXU(a.W3),e.rXU(a.hG),e.rXU(C.q9),e.rXU(e.gRc),e.rXU(h))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-order"]],standalone:!1,decls:20,vars:11,consts:[["ptModal",""],[3,"translucent"],["slot","start",4,"ngIf"],[4,"ngIf"],["style","align-items: center; margin-left: 16px;",4,"ngIf"],[3,"ngModelChange","ngModel"],["value","order"],["value","history"],[3,"fullscreen"],[3,"isOpen","canDismiss"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ptData",4,"ngSwitchCase"],["slot","start"],[3,"click"],["name","person","color","primary","slot","icon-only"],[2,"align-items","center","margin-left","16px"],[3,"color"],["routerLink","/inventory",3,"click"],["name","close","slot","icon-only","color","primary"],["slot","end"],[3,"click","disabled"],["name","checkmark","slot","icon-only","color","primary"],["lines","full"],["label","Date of Birth","labelPlacement","fixed","type","date",3,"ngModelChange","ngModel"],["lines","none"],["value","m"],["value","f"],["lines","full",2,"margin-top","-5px",3,"disabled"],["label","Weeks of pregnancy","labelPlacement","floating",3,"ngModelChange","ngModel"],[3,"ptData"]],template:function(n,t){if(1&n){const r=e.RV6();e.j41(0,"ion-header",1)(1,"ion-toolbar"),e.DNE(2,Y,3,0,"ion-buttons",2)(3,w,2,0,"ion-title",3)(4,J,24,9,"ion-row",4),e.k0s(),e.j41(5,"ion-toolbar")(6,"ion-segment",5),e.mxI("ngModelChange",function(d){return e.eBV(r),e.DH7(t.selectedSegment,d)||(t.selectedSegment=d),e.Njj(d)}),e.j41(7,"ion-segment-button",6)(8,"ion-label"),e.EFF(9,"Administration"),e.k0s()(),e.j41(10,"ion-segment-button",7)(11,"ion-label"),e.EFF(12,"History"),e.k0s()()()()(),e.j41(13,"ion-content",8)(14,"ion-modal",9,0),e.DNE(16,L,33,5,"ng-template"),e.k0s(),e.qex(17,10),e.DNE(18,z,1,0,"app-history",11)(19,K,1,1,"app-administration",12),e.bVm(),e.k0s()}2&n&&(e.Y8G("translucent",!0),e.R7$(2),e.Y8G("ngIf",t.patientData&&t.patientData.dob),e.R7$(),e.Y8G("ngIf",!(t.patientData&&t.patientData.dob)),e.R7$(),e.Y8G("ngIf",t.patientData&&t.patientData.dob),e.R7$(2),e.R50("ngModel",t.selectedSegment),e.R7$(7),e.Y8G("fullscreen",!0),e.R7$(),e.Y8G("isOpen",t.isModalOpen)("canDismiss",!t.isModalOpen),e.R7$(3),e.Y8G("ngSwitch",t.selectedSegment),e.R7$(),e.Y8G("ngSwitchCase","history"),e.R7$(),e.Y8G("ngSwitchCase","order"))},dependencies:[m.bT,m.ux,m.e1,p.BC,p.vS,a.Jm,a.QW,a.b_,a.I9,a.eY,a.hU,a.W9,a.lO,a.eU,a.iq,a.$w,a.uz,a.he,a.KO,a.f0,a.ln,a.Gp,a.eP,a.IO,a.BC,a.ai,a.Sb,a.hB,a.Je,a.Gw,a.N7,g.Wk,S,A,B],encapsulation:2,changeDetection:0}),s})()},{path:"vaccines-list",loadChildren:()=>l.e(8151).then(l.bind(l,8151)).then(i=>i.VaccinesListPageModule)}];let q=(()=>{var i;class s{}return(i=s).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[g.iI.forChild(Z),g.iI]}),s})(),ee=(()=>{var i;class s{}return(i=s).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[m.MD,p.YN,a.bv,q]}),s})()}}]);